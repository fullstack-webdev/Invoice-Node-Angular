<ng-form name="ServiceForm">

    <div class="mar-b text-center">
        <lcma-flow style="display: inline-block" current-step="ctx.service.state" on-action="onFlowAction(item, action, data)" scheme="serviceFlowScheme"></lcma-flow>
    </div>

    <ng-include src="'app/order-services/forms/order-service-common.html'"></ng-include>

    <div class="row">
        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">Int Plan ID</label>
          <div class="col-sm-8">
            <input ng-required="true" name="int_plan_id" ng-model="ctx.inventory.int_plan_id" type="text" class="form-control">
            <div ng-messages="ServiceForm.int_plan_id.$error" ng-show="ServiceForm.int_plan_id.$touched" role="alert">
              <div ng-message="required">You didn't enter Int Plan ID</div>
            </div>
          </div>
        </div>

        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">Plan Type</label>
          <div class="col-sm-8">
            <lcma-dictionary-picker type-key='inventory-plan-type' name="plan_type" ng-model="ctx.inventory.plan_type_id"
              ></lcma-dictionary-picker>
          </div>
        </div>

        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">Mobile Nbr</label>
          <div class="col-sm-8">
            <input name="mobile_nbr" ng-model="ctx.inventory.mobile_nbr" type="text" class="form-control">
          </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">Emp ID</label>
          <div class="col-sm-8">
            <lcma-employee-picker ng-model="ctx.inventory.emp_id"></lcma-employee-picker>
          </div>
        </div>

        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">User Name</label>
          <div class="col-sm-8">
            <input name="username" ng-model="ctx.inventory.username" type="text" class="form-control">
          </div>
        </div>

        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">Svc Type</label>
          <div class="col-sm-8">
            <lcma-dictionary-picker type-key='inventory-svc-type' name="svc_type" ng-model="ctx.inventory.svc_type_id" ></lcma-dictionary-picker>
          </div>
        </div>

    </div>

    <div class="row">
        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">Status</label>
          <div class="col-sm-8">
            <lcma-dictionary-picker type-key='inventory-status' name="status" ng-model="ctx.inventory.status_id"
              ></lcma-dictionary-picker>
          </div>
        </div>
        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">Contract ID</label>
          <div class="col-sm-8">
            <lcma-contract-picker ng-model="ctx.inventory.contract_id"></lcma-contract-picker>
          </div>
        </div>

        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">Term Date</label>
          <div class="col-sm-8">
            <input
              uib-datepicker-popup="MM/dd/yyyy"
              ng-model="ctx.inventory.term_date"
              name="exp_date"
              placeholder="Term Date"
              class="form-control input-sm"
              is-open="ctx.term_date_ui.opened"
              ng-click="ctx.term_date_ui.opened = true"
              />
          </div>
        </div>

    </div>

    <div class="row">
        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">Voice Pool ID</label>
          <div class="col-sm-8">
            <input name="voice_pool_id" ng-model="ctx.inventory.voice_pool_id" type="number" class="form-control">
          </div>
        </div>
        <div class="form-group col-md-4 col-lg-4">
          <label class="col-sm-4 custom-control-label">Data Pool ID</label>
          <div class="col-sm-8">
            <input name="data_pool_id" ng-model="ctx.inventory.data_pool_id" type="number" class="form-control">
          </div>
        </div>
    </div>

    <hr>
    <div class="row">
        <div class="col-sm-8 text-left">
            <button class="btn btn-primary btn-sm" ng-click="ctx.addInventoryPlan()"><i class="fa fa-plus"></i></button>
        </div>
        <div class="col-sm-4 text-right" style="padding-left: 0px;">
        </div>
    </div>

    <hr>

    <div class="row">
        <div class="col-sm-12 text-right">
            <a class="btn btn-default" ng-disabled="ctx.featuresGridApi.selection.getSelectedRows().length==0" ng-click="ctx.removeInventoryPlan()" title="Delete Selected"><i class="fa fa-trash"></i></a>
        </div>
        <div class="col-sm-12">
            <div class="grid mar-all" ui-grid="ctx.featuresGrid" ui-grid-selection></div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-4"></div>
        <div class="col-sm-4 text-center">
            <button class="btn btn-primary" type="button" ng-click="saveService(ServiceForm)">Save</button>
        </div>
        <div class="col-sm-4 text-right" >
            <button type="button" style="margin-left: 5px"
                    class="btn btn-primary"
                    ng-click="ctx.removeService(service)">
                <span ng-if="order.state < 206">Remove</span>
                <span ng-if="order.state === 206">Cancel</span>
            </button>
        </div>
    </div>

</ng-form>
